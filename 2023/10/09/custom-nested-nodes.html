<!DOCTYPE html>
<html>
  <head>
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Anim Blueprint Logic in Code | chuckleplant</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Anim Blueprint Logic in Code" />
<meta name="author" content="Sergio Basurco" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Epicmetheus created Blueprints to resemble Code. C++, king of Olympus and ruler of all Code, deemed this as a transgression. Living a happy and simple life, Blueprints, weak and hideous as they are, still harbor dreams of one day rivaling the power of C++ himself. They often spend their days whimsically playing with us, mere mortals. It is, for this very reason, that C++ despises Blueprints and looks down on them from the heights of Mount Performance." />
<meta property="og:description" content="Epicmetheus created Blueprints to resemble Code. C++, king of Olympus and ruler of all Code, deemed this as a transgression. Living a happy and simple life, Blueprints, weak and hideous as they are, still harbor dreams of one day rivaling the power of C++ himself. They often spend their days whimsically playing with us, mere mortals. It is, for this very reason, that C++ despises Blueprints and looks down on them from the heights of Mount Performance." />
<link rel="canonical" href="https://chuckleplant.github.io/2023/10/09/custom-nested-nodes.html" />
<meta property="og:url" content="https://chuckleplant.github.io/2023/10/09/custom-nested-nodes.html" />
<meta property="og:site_name" content="chuckleplant" />
<meta property="og:image" content="https://chuckleplant.github.io/img/600/hades-nodes.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-10-09T00:00:00+02:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://chuckleplant.github.io/img/600/hades-nodes.png" />
<meta property="twitter:title" content="Anim Blueprint Logic in Code" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Sergio Basurco"},"dateModified":"2023-10-09T00:00:00+02:00","datePublished":"2023-10-09T00:00:00+02:00","description":"Epicmetheus created Blueprints to resemble Code. C++, king of Olympus and ruler of all Code, deemed this as a transgression. Living a happy and simple life, Blueprints, weak and hideous as they are, still harbor dreams of one day rivaling the power of C++ himself. They often spend their days whimsically playing with us, mere mortals. It is, for this very reason, that C++ despises Blueprints and looks down on them from the heights of Mount Performance.","headline":"Anim Blueprint Logic in Code","image":"https://chuckleplant.github.io/img/600/hades-nodes.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://chuckleplant.github.io/2023/10/09/custom-nested-nodes.html"},"url":"https://chuckleplant.github.io/2023/10/09/custom-nested-nodes.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><link type="application/atom+xml" rel="alternate" href="https://chuckleplant.github.io/feed.xml" title="chuckleplant" /><title>Anim Blueprint Logic in Code</title>
  <meta name="description" content="Epicmetheus created Blueprints to resemble Code. C++, king of Olympus and ruler of all Code, deemed this as a transgression. Living a happy and simple life, ...">
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://chuckleplant.github.io/2023/10/09/custom-nested-nodes.html">
  <link rel="alternate" type="application/rss+xml" title="chuckleplant" href="https://chuckleplant.github.io/feed.xml">
  <link rel="stylesheet" type="text/css" href="https://chuckleplant.github.io/css/jekyll-photo-gallery.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Serif&display=swap" rel="stylesheet">
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <!-- LinkedIn SVG -->
    <symbol id="linkedin" viewBox="0 0 448 512">
        <path fill="currentcolor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path>
    </symbol>

    <!-- Stack Overflow SVG -->
    <symbol id="stackoverflow" viewBox="0 0 384 512">
        <path fill="currentcolor" d="M293.7 300l-181.2-84.5 16.7-36.5 181.3 84.7-16.8 36.3zm48-76L188.2 95.7l-25.5 30.8 153.5 128.3 25.5-30.8zm39.6-31.7L262 32l-32 24 119.3 160.3 32-24zM290.7 311L95 269.7 86.8 309l195.7 41 8.2-39zm31.6 129H42.7V320h-40v160h359.5V320h-40v120zm-39.8-80h-200v39.7h200V360z"></path>
    </symbol>

    <!-- Twitter SVG -->
    <symbol id="twitter" viewBox="0 0 16 16">
        <path fill="currentcolor" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
    </symbol>

    <!-- Github SVG -->
    <symbol id="github" viewBox="0 0 448 512">
        <path fill="currentcolor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z">
    </symbol>

    <!-- photography SVG -->
    <symbol id="photography" viewBox="0 0 512 512">
        <path fill="currentcolor" d="M220.6 121.2L271.1 96 448 96v96H333.2c-21.9-15.1-48.5-24-77.2-24s-55.2 8.9-77.2 24H64V128H192c9.9 0 19.7-2.3 28.6-6.8zM0 128V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H271.1c-9.9 0-19.7 2.3-28.6 6.8L192 64H160V48c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16l0 16C28.7 64 0 92.7 0 128zM168 304a88 88 0 1 1 176 0 88 88 0 1 1 -176 0z"/>
    </symbol>

    <!-- album SVG -->
    <symbol id="album" viewBox="0 0 576 512">
        <path fill="currentcolor" d="M160 32c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H160zM396 138.7l96 144c4.9 7.4 5.4 16.8 1.2 24.6S480.9 320 472 320H328 280 200c-9.2 0-17.6-5.3-21.6-13.6s-2.9-18.2 2.9-25.4l64-80c4.6-5.7 11.4-9 18.7-9s14.2 3.3 18.7 9l17.3 21.6 56-84C360.5 132 368 128 376 128s15.5 4 20 10.7zM192 128a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120V344c0 75.1 60.9 136 136 136H456c13.3 0 24-10.7 24-24s-10.7-24-24-24H136c-48.6 0-88-39.4-88-88V120z"/>
    </symbol>

    <!-- code SVG -->
    <symbol id="code" viewBox="0 0 640 512">
        <path fill="currentcolor" d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/>
    </symbol>


    <!-- games SVG -->
    <symbol id="games" viewBox="0 0 640 512">
        <path fill="currentcolor" d="M192 64C86 64 0 150 0 256S86 448 192 448H448c106 0 192-86 192-192s-86-192-192-192H192zM496 168a40 40 0 1 1 0 80 40 40 0 1 1 0-80zM392 304a40 40 0 1 1 80 0 40 40 0 1 1 -80 0zM168 200c0-13.3 10.7-24 24-24s24 10.7 24 24v32h32c13.3 0 24 10.7 24 24s-10.7 24-24 24H216v32c0 13.3-10.7 24-24 24s-24-10.7-24-24V280H136c-13.3 0-24-10.7-24-24s10.7-24 24-24h32V200z"/>
    </symbol>

    <!-- unreal SVG -->
    <symbol id="unreal" viewBox="0 0 24 24">
        <path fill="currentcolor" d="m12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12c0-6.627-5.373-12-12-12zm0 1.846c5.595.007 10.128 4.545 10.128 10.141 0 5.601-4.54 10.141-10.141 10.141s-10.141-4.54-10.141-10.141c0-2.8 1.135-5.335 2.97-7.17 1.837-1.835 4.374-2.97 7.176-2.97h.007zm0 2.77c-4.392.774-8.308 4.824-8.308 9.23 2.149-3.794 3.584-4.067 3.981-4.067s.606.206.606.663v5.654c0 .703-1.366.588-1.818.519 1.67 2.485 5.539 2.77 5.539 2.77l1.846-1.846 1.846.923c2.914-1.334 4.615-4.19 4.615-4.615-.701.868-1.646 1.515-2.731 1.836l-.039.01c-.245 0-.923-.126-.923-.462v-6.693c0-.581 1.342-2.354 1.846-3-3.332.873-4.298 2.394-4.298 2.394s-.253-.548-1.24-.548c.501.473.838 1.114.922 1.832l.001.014v5.654c-.525.373-1.144.653-1.813.801l-.034.006c-.64 0-.952-.26-.952-.75s.029-6.634.029-6.634-.923.339-.923-1.558c0-.949 1.846-2.135 1.846-2.135z"/>
    </symbol>

    <!-- art SVG -->
    <symbol id="art"  viewBox="0 0 512 512">
        <path fill="currentcolor" d="M512 256c0 .9 0 1.8 0 2.7c-.4 36.5-33.6 61.3-70.1 61.3H344c-26.5 0-48 21.5-48 48c0 3.4 .4 6.7 1 9.9c2.1 10.2 6.5 20 10.8 29.9c6.1 13.8 12.1 27.5 12.1 42c0 31.8-21.6 60.7-53.4 62c-3.5 .1-7 .2-10.6 .2C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"/>
    </symbol>

    <!-- google SVG -->
    <symbol id="google"  viewBox="0 0 488 512">
        <path fill="currentcolor" d="M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"/>
    </symbol>

    <!-- think SVG -->
    <symbol id="think"  viewBox="0 0 384 512">
       <path fill="currentcolor" d="M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"/>
    </symbol>

    <!-- story SVG -->
    <symbol id="story" viewBox="0 0 576 512">
       <path fill="currentcolor" d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C93.5 32 46.3 45.3 18.1 56.1C6.8 60.5 0 71.7 0 83.8V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V83.8c0-12.1-6.8-23.3-18.1-27.6C529.7 45.3 482.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"/>
    </symbol>

    <!-- playstation SVG -->
    <symbol id="playstation" viewBox="0 0 576 512">
       <path fill="currentcolor" d="M570.9 372.3c-11.3 14.2-38.8 24.3-38.8 24.3L327 470.2v-54.3l150.9-53.8c17.1-6.1 19.8-14.8 5.8-19.4-13.9-4.6-39.1-3.3-56.2 2.9L327 381.1v-56.4c23.2-7.8 47.1-13.6 75.7-16.8 40.9-4.5 90.9.6 130.2 15.5 44.2 14 49.2 34.7 38 48.9zm-224.4-92.5v-139c0-16.3-3-31.3-18.3-35.6-11.7-3.8-19 7.1-19 23.4v347.9l-93.8-29.8V32c39.9 7.4 98 24.9 129.2 35.4C424.1 94.7 451 128.7 451 205.2c0 74.5-46 102.8-104.5 74.6zM43.2 410.2c-45.4-12.8-53-39.5-32.3-54.8 19.1-14.2 51.7-24.9 51.7-24.9l134.5-47.8v54.5l-96.8 34.6c-17.1 6.1-19.7 14.8-5.8 19.4 13.9 4.6 39.1 3.3 56.2-2.9l46.4-16.9v48.8c-51.6 9.3-101.4 7.3-153.9-10z"/>
    </symbol>

    <!-- sun SVG -->
    <symbol id="sun" viewBox="0 0 512 512">
       <path fill="currentcolor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"/>
    </symbol>

    <!-- animation SVG -->
    <symbol id="animation" viewBox="0 0 448 512">
       <path fill="currentcolor" d="M320 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM125.7 175.5c9.9-9.9 23.4-15.5 37.5-15.5c1.9 0 3.8 .1 5.6 .3L137.6 254c-9.3 28 1.7 58.8 26.8 74.5l86.2 53.9-25.4 88.8c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l28.7-100.4c5.9-20.6-2.6-42.6-20.7-53.9L238 299l30.9-82.4 5.1 12.3C289 264.7 323.9 288 362.7 288H384c17.7 0 32-14.3 32-32s-14.3-32-32-32H362.7c-12.9 0-24.6-7.8-29.5-19.7l-6.3-15c-14.6-35.1-44.1-61.9-80.5-73.1l-48.7-15c-11.1-3.4-22.7-5.2-34.4-5.2c-31 0-60.8 12.3-82.7 34.3L57.4 153.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l23.1-23.1zM91.2 352H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h69.6c19 0 36.2-11.2 43.9-28.5L157 361.6l-9.5-6c-17.5-10.9-30.5-26.8-37.9-44.9L91.2 352z"/>
    </symbol>

    <!-- location SVG -->
    <symbol id="location"  viewBox="0 0 384 512">
       <path fill="currentcolor" d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/>
    </symbol>

    <!-- world SVG -->
    <symbol id="world" viewBox="0 0 512 512">
       <path fill="currentcolor" d="M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"/>
    </symbol>

    <!-- movies SVG -->
    <symbol id="movies"  viewBox="0 0 512 512">
       <path fill="currentcolor"  d="M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM48 368v32c0 8.8 7.2 16 16 16H96c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H416zM48 240v32c0 8.8 7.2 16 16 16H96c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16H416zM48 112v32c0 8.8 7.2 16 16 16H96c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zM416 96c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16H416zM160 128v64c0 17.7 14.3 32 32 32H320c17.7 0 32-14.3 32-32V128c0-17.7-14.3-32-32-32H192c-17.7 0-32 14.3-32 32zm32 160c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H320c17.7 0 32-14.3 32-32V320c0-17.7-14.3-32-32-32H192z"/>
    </symbol>

    <!-- blog SVG -->
    <symbol id="blog"  viewBox="0 0 512 512">
       <path fill="currentcolor" d="M192 32c0 17.7 14.3 32 32 32c123.7 0 224 100.3 224 224c0 17.7 14.3 32 32 32s32-14.3 32-32C512 128.9 383.1 0 224 0c-17.7 0-32 14.3-32 32zm0 96c0 17.7 14.3 32 32 32c70.7 0 128 57.3 128 128c0 17.7 14.3 32 32 32s32-14.3 32-32c0-106-86-192-192-192c-17.7 0-32 14.3-32 32zM96 144c0-26.5-21.5-48-48-48S0 117.5 0 144V368c0 79.5 64.5 144 144 144s144-64.5 144-144s-64.5-144-144-144H128v96h16c26.5 0 48 21.5 48 48s-21.5 48-48 48s-48-21.5-48-48V144z"/>
    </symbol>
</svg>
 <!-- Include SVG file -->
  
  <script src="https://cdn.jsdelivr.net/npm/darkreader@4.9.44/darkreader.js"></script>
  <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({ TeX: { extensions: ["color.js"] }});
    MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } }});
  </script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123985810-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    
    gtag('config', 'UA-123985810-1');
    </script>
    <script src="/js/theme.js"></script>
</head>

  <body>
    <header class="site-header">
  <div class="wrapper">
    <a class="site-title" href="/">
      chuckleplant<span class="title-dot">.</span>
    </a>
    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
          <a class="page-link" href="/about">About</a>
          <a class="page-link" href="/albums">Albums</a>
          <a class="page-link" href="/photos">Photos</a>
          <a class="page-link" href="/drawings">Drawings</a>
          <a class="page-link" href="/archive">Archive</a>
          <!-- <a class="dark-mode-button" >
            <i id="icon-dark" class="fa fa-moon"></i>
            <span id="dark-text">Sunset</span>
          </a> -->
      </div>
    </nav>
  </div>
</header>

    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Anim Blueprint Logic in Code</h1>
    <p class="post-meta"><time datetime="2023-10-09T00:00:00+02:00" itemprop="datePublished">Oct 9, 2023</time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Sergio Basurco</span></span></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Epicmetheus created Blueprints to resemble Code. C++, king of Olympus and ruler of all Code, deemed this as a transgression. Living a happy and simple life, Blueprints, weak and hideous as they are, still harbor dreams of one day rivaling the power of C++ himself. They often spend their days whimsically playing with us, mere mortals. It is, for this very reason, that C++ despises Blueprints and looks down on them from the heights of Mount Performance.</p>

<p><em>I’ve been playing Hades.</em></p>

<p>Here I’ll show you how to use Anim Blueprint nodes from code. Is that worth doing? Not usually, it’s way simpler to do it from Blueprint. But it’s a handy tool in case you want to hide some complexity under the hood and expose only a pretty node in the editor.</p>

<p>I won’t cover the basics of doing custom animation nodes. You can find that in <a href="https://www.unrealengine.com/en-US/blog/creating-custom-animation-nodes">this post</a> by Unreal. I would also highly recommend reading the full <a href="https://docs.unrealengine.com/5.3/en-US/animation-node-technical-guide-in-unreal-engine/">Animation Node Technical Guide</a>. I will also show only the relevant code bits. You can find the <a href="/zips/NestedNodeModules.zip">full code here</a> so you can browse at your own pace.</p>

<p>For this example, I will implement a basic node that blends two poses. The blend weight will be determined by a Curve asset, which is evaluated in a loop. Then we will use the Modify Curve node to relay curve information to the animation pipeline.</p>

<div class="image-container">
    <div class="Container">
        <div class="Content">
            <img class="audiovisual" src="/images/posts/nested-node-nodes.png" alt="The anim nodes we will put inside our custom node." style="width: auto;" />
        </div>
    </div>
    <span class="caption" style="font-size: 80%"><i>The anim nodes we will put inside our custom node.</i></span>
</div>

<p>We’ll have to create AnimNode and AnimGraphNode classes in separate modules. It’s important that you define AnimNode classes in a Runtime module and AnimGraphNode classes in an <strong>Uncooked Only</strong> module. Otherwise you’ll get a warning and potentially issues when packaging.</p>

<p>In your plugin or project file, add the module definitions. Here’s where we can specify that it’s an UncookedOnly module.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnimCode"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Runtime"</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnimCodeEditor"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UncookedOnly"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>It’s also good practice to add <code class="language-plaintext highlighter-rouge">OverridePackageType = PackageOverrideType.GameUncookedOnly;</code> to your module’s Build.cs file. Unreal code rarely does this and the .uproject code above will work. But still it won’t harm doing this and it will be more explicit to anyone reading the code.</p>

<p>In our AnimNode class you can declare any <code class="language-plaintext highlighter-rouge">UPROPERTY</code> that you want to expose to the user. We will also declare a <code class="language-plaintext highlighter-rouge">UCurveFloat</code> reference so that users can link assets from the Editor. We will also declare our Blend node of type <code class="language-plaintext highlighter-rouge">FAnimNode_TwoWayBlend</code> and a <code class="language-plaintext highlighter-rouge">FAnimNode_ModifyCurve</code> node, which we’ll use to relay the blend weight as an animation curve for any system that wants to consume it. You can declare as many anim nodes as you wish.</p>

<p>The ModifyCurve node is a very useful tool and you should use it for specific animation trees to communicate something to the rest of the system. For instance, you can have the jump animation logic use this node to disable Feet IK while the jump is active. This assumes you have a curve e.g. <code class="language-plaintext highlighter-rouge">DisableFeetIK</code> that gets evaluated and used as the Alpha for the Feet IK nodes.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">public:</span>
    <span class="c1">// Exposed pose pin</span>
    <span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Links</span><span class="p">)</span>
    <span class="n">FPoseLink</span> <span class="n">PoseA</span><span class="p">;</span>

    <span class="c1">// Exposed pose pin</span>
    <span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Links</span><span class="p">)</span>
    <span class="n">FPoseLink</span> <span class="n">PoseB</span><span class="p">;</span>

    <span class="c1">// Curve asset will be available in the details panel</span>
    <span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Blend</span><span class="p">)</span>
    <span class="n">UCurveFloat</span><span class="o">*</span> <span class="n">BlendWeightCurve</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
    
    <span class="c1">// The curve name we'll use in ModifyCurve</span>
    <span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">ModifyCurve</span><span class="p">)</span>
    <span class="n">FName</span> <span class="n">CurveName</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>
    <span class="c1">// Blend node</span>
    <span class="n">FAnimNode_TwoWayBlend</span>   <span class="n">mBlend</span><span class="p">;</span>
    <span class="n">FAnimNode_ModifyCurve</span>   <span class="n">mModifyCurve</span><span class="p">;</span>

    <span class="c1">// Blend weight control variables</span>
    <span class="kt">float</span>                   <span class="n">mBlendWeight</span> <span class="o">=</span> <span class="mf">0.</span><span class="n">f</span><span class="p">;</span>
    <span class="kt">float</span>                   <span class="n">mCurveTime</span> <span class="o">=</span> <span class="mf">0.</span><span class="n">f</span><span class="p">;</span>
</code></pre></div></div>

<p>On initialization, we will connect the pins under the hood. We have to make sure that <code class="language-plaintext highlighter-rouge">mBlend</code> is initialized since this node already has some pins that need to be connected. Since this node is now hidden from the user we must connect them in code. Note that <code class="language-plaintext highlighter-rouge">mBlend</code> already contains <code class="language-plaintext highlighter-rouge">FPoseLink</code> references, we can just copy ours to them since these are simple structs representing runtime animation pins.</p>

<p>To connect any two existing AnimNodes we do this via their <code class="language-plaintext highlighter-rouge">FPoseLink</code>. We’re connecting mBlend to mModifyCurve by calling <code class="language-plaintext highlighter-rouge">SetLinkNode</code>. This is the same as dragging the pose pin in the Editor. From this point onwards we can forget about <code class="language-plaintext highlighter-rouge">mBlend</code> since the leading node is now <code class="language-plaintext highlighter-rouge">mModifyCurve</code>. Notice how we call <code class="language-plaintext highlighter-rouge">Initialize_AnyThread</code> on <code class="language-plaintext highlighter-rouge">mModifyCurve</code>, but not on <code class="language-plaintext highlighter-rouge">mBlend</code>.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">FAnimNode_NestedNodes</span><span class="o">::</span><span class="n">Initialize_AnyThread</span><span class="p">(</span><span class="k">const</span> <span class="n">FAnimationInitializeContext</span><span class="o">&amp;</span> <span class="n">Context</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">DECLARE_SCOPE_HIERARCHICAL_COUNTER_ANIMNODE</span><span class="p">(</span><span class="n">Initialize_AnyThread</span><span class="p">)</span>
    <span class="n">FAnimNode_Base</span><span class="o">::</span><span class="n">Initialize_AnyThread</span><span class="p">(</span><span class="n">Context</span><span class="p">);</span>

    <span class="c1">// Connect pins to our two way blend, set to float type</span>
    <span class="n">mBlend</span><span class="p">.</span><span class="n">A</span> <span class="o">=</span> <span class="n">PoseA</span><span class="p">;</span>
    <span class="n">mBlend</span><span class="p">.</span><span class="n">B</span> <span class="o">=</span> <span class="n">PoseB</span><span class="p">;</span>
    <span class="n">mBlend</span><span class="p">.</span><span class="n">AlphaInputType</span> <span class="o">=</span> <span class="n">EAnimAlphaInputType</span><span class="o">::</span><span class="n">Float</span><span class="p">;</span>
    <span class="n">mBlend</span><span class="p">.</span><span class="n">Alpha</span> <span class="o">=</span> <span class="mf">0.</span><span class="n">f</span><span class="p">;</span>
    
    <span class="c1">// Connect blend node to modifyCurve node</span>
    <span class="n">mModifyCurve</span><span class="p">.</span><span class="n">SourcePose</span><span class="p">.</span><span class="n">SetLinkNode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mBlend</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">CurveName</span> <span class="o">!=</span> <span class="n">NAME_None</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">mModifyCurve</span><span class="p">.</span><span class="n">CurveMap</span><span class="p">.</span><span class="n">FindOrAdd</span><span class="p">(</span><span class="n">CurveName</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.</span><span class="n">f</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// This will internally call Initialize for mBlend</span>
    <span class="n">mModifyCurve</span><span class="p">.</span><span class="n">Initialize_AnyThread</span><span class="p">(</span><span class="n">Context</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>For the Update and Evaluate methods we only have to bypass to the anim node that we’re using internally. We will also update the blend weight based on the curve that we exposed as a <code class="language-plaintext highlighter-rouge">UPROPERTY</code>. Finally, we will update the exposed curve value as a runtime animation curve.</p>

<p>It’s important to note that no matter how many nodes we’re using, <strong>you only have to update and evaluate one of them</strong>, the one that gives you the output pose for your custom node. This one will update and evaluate any pose links that you’ve connected to them recursively.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">FAnimNode_NestedNodes</span><span class="o">::</span><span class="n">Update_AnyThread</span><span class="p">(</span><span class="k">const</span> <span class="n">FAnimationUpdateContext</span><span class="o">&amp;</span> <span class="n">Context</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">DECLARE_SCOPE_HIERARCHICAL_COUNTER_ANIMNODE</span><span class="p">(</span><span class="n">Update_AnyThread</span><span class="p">);</span>

    <span class="c1">// Update the blend node alpha based on our input curve</span>
    <span class="n">UpdateBlendWeight</span><span class="p">(</span><span class="n">Context</span><span class="p">);</span>

    <span class="c1">// Here we just update our blend node, and it will internally evaluate our source Poses A and B</span>
    <span class="n">mModifyCurve</span><span class="p">.</span><span class="n">Update_AnyThread</span><span class="p">(</span><span class="n">Context</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">FAnimNode_NestedNodes</span><span class="o">::</span><span class="n">Evaluate_AnyThread</span><span class="p">(</span><span class="n">FPoseContext</span><span class="o">&amp;</span> <span class="n">Output</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">DECLARE_SCOPE_HIERARCHICAL_COUNTER_ANIMNODE</span><span class="p">(</span><span class="n">Evaluate_AnyThread</span><span class="p">);</span>

    <span class="c1">// This will internally call the evaluation of our source poses</span>
    <span class="n">mModifyCurve</span><span class="p">.</span><span class="n">Evaluate_AnyThread</span><span class="p">(</span><span class="n">Output</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">DECLARE_SCOPE_HIERARCHICAL_COUNTER_ANIMNODE</code> is a macro used all over animation code for profiling. It’s good practice to add it so that Unreal’s profiling tools will pick up animation nodes properly.</p>

<p>We’ll also implement GatherDebugData indicating extra information that will show up when enabling animation debug. You do this by using the <code class="language-plaintext highlighter-rouge">showdebug ANIMATION</code> command from the console in the Editor or while playing. One thing to note with this one is that we’re not calling <code class="language-plaintext highlighter-rouge">mModifyCurve.GatherDebugData(...)</code> because that AnimNode isn’t implementing it. So we call <code class="language-plaintext highlighter-rouge">mBlend</code> so that the debug information on it isn’t lost.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">FAnimNode_NestedNodes</span><span class="o">::</span><span class="n">GatherDebugData</span><span class="p">(</span><span class="n">FNodeDebugData</span><span class="o">&amp;</span> <span class="n">DebugData</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">DECLARE_SCOPE_HIERARCHICAL_COUNTER_ANIMNODE</span><span class="p">(</span><span class="n">GatherDebugData</span><span class="p">)</span>
    <span class="n">FString</span> <span class="n">DebugLine</span> <span class="o">=</span> <span class="n">DebugData</span><span class="p">.</span><span class="n">GetNodeName</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="n">DebugLine</span> <span class="o">+=</span> <span class="n">FString</span><span class="o">::</span><span class="n">Printf</span><span class="p">(</span><span class="n">TEXT</span><span class="p">(</span><span class="s">"(CurveTime: %.1f%)"</span><span class="p">),</span> <span class="n">mCurveTime</span><span class="p">);</span>
    <span class="n">DebugData</span><span class="p">.</span><span class="n">AddDebugItem</span><span class="p">(</span><span class="n">DebugLine</span><span class="p">);</span>
    <span class="n">mBlend</span><span class="p">.</span><span class="n">GatherDebugData</span><span class="p">(</span><span class="n">DebugData</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Using the <code class="language-plaintext highlighter-rouge">showdebug ANIMATION</code> command we can see all debug data reported by AnimNodes. In our case we added the curve time and the weight that’s being output as an Animation Curve.</p>

<div class="image-container">
    <div class="Container">
        <div class="Content">
            <img class="audiovisual" src="/images/posts/nested-nodes-debug.png" alt="" style="width: auto;" />
        </div>
    </div>
    <span class="caption" style="font-size: 80%"><i></i></span>
</div>

<p>Finally, here’s how we evaluate the curve asset in order to blend from one pose to another. We only need to take care of looping the curve evaluation over time. The <code class="language-plaintext highlighter-rouge">FAnimationUpdateContext</code> contains the DeltaTime required for this evaluation. We will also update the curve value on <code class="language-plaintext highlighter-rouge">mModifyCurve</code>.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">FAnimNode_NestedNodes</span><span class="o">::</span><span class="n">UpdateBlendWeight</span><span class="p">(</span><span class="k">const</span> <span class="n">FAnimationUpdateContext</span><span class="o">&amp;</span> <span class="n">Context</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">BlendWeightCurve</span> <span class="o">==</span> <span class="nb">nullptr</span> <span class="o">||</span> <span class="n">BlendWeightCurve</span><span class="o">-&gt;</span><span class="n">FloatCurve</span><span class="p">.</span><span class="n">Keys</span><span class="p">.</span><span class="n">Num</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">const</span> <span class="kt">float</span> <span class="n">DeltaTime</span>       <span class="o">=</span> <span class="n">Context</span><span class="p">.</span><span class="n">GetDeltaTime</span><span class="p">();</span>
    <span class="n">mCurveTime</span>                  <span class="o">+=</span> <span class="n">DeltaTime</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">float</span> <span class="n">CurveDuration</span>   <span class="o">=</span> <span class="n">BlendWeightCurve</span><span class="o">-&gt;</span><span class="n">FloatCurve</span><span class="p">.</span><span class="n">Keys</span><span class="p">.</span><span class="n">Last</span><span class="p">().</span><span class="n">Time</span><span class="p">;</span>
    <span class="n">mCurveTime</span>                  <span class="o">=</span> <span class="n">FMath</span><span class="o">::</span><span class="n">Fmod</span><span class="p">(</span><span class="n">mCurveTime</span><span class="p">,</span> <span class="n">CurveDuration</span><span class="p">);</span>
    <span class="n">mBlend</span><span class="p">.</span><span class="n">Alpha</span>                <span class="o">=</span> <span class="n">BlendWeightCurve</span><span class="o">-&gt;</span><span class="n">GetFloatValue</span><span class="p">(</span><span class="n">mCurveTime</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">CurveName</span> <span class="o">==</span> <span class="n">NAME_None</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// Update modify curve value</span>
    <span class="n">mModifyCurve</span><span class="p">.</span><span class="n">CurveMap</span><span class="p">.</span><span class="n">FindOrAdd</span><span class="p">(</span><span class="n">CurveName</span><span class="p">)</span> <span class="o">=</span> <span class="n">mBlend</span><span class="p">.</span><span class="n">Alpha</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>All that remains is for users to use our new Anim Node and connect some animations to it. Clicking on the new <strong>Blend by Curve</strong> node will show the Curve asset reference in the Details panel. Our update function will evaluate the curve over time and set the blend weight to our internal Blend node. Note that I renamed the node title from NestedNodes to Blend by Curve to make it fancier.</p>

<div class="image-container">
    <div class="Container">
        <div class="Content">
            <video class="audiovisual" controls="" autoplay="autoplay" loop="loop" style="width: 100%">
                <source src="/videos/nested-nodes-abp.mp4" type="video/mp4" />
            </video>            
        </div>
    </div>
    <span class="caption" style="font-size: 80%"><i></i></span>
</div>

  </div>
   
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.developer = 1;
this.page.url = 'https://chuckleplant.github.io/2023/10/09/custom-nested-nodes.html';  
this.page.identifier = 'nestedABPNodes'; 
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://chuckleplant.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
 
</article>

      </div>
    </div>

    <div class="spacer"></div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="contact-list-title">chuckleplant</li>
          <li><a href="mailto:sergio.basurco@gmail.com">sergio.basurco@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            
            <a href="https://github.com/chuckleplant">
    <span class="icon">
        <svg>
            <use xlink:href="#github"></use>
        </svg>
    </span>
    <span class="username">chuckleplant</span>
</a>

          </li>
          

          
          <li>
            
            <a href="https://www.linkedin.com/in/sergiobasurco">
    <span class="icon">
        <svg>
            <use xlink:href="#linkedin"></use>
        </svg>
    </span>
    <span class="username">LinkedIn</span>
</a>

          </li>
          

          
          <li>
            
            <a href="https://twitter.com/SergioBasurco">
    <span class="icon">
        <svg>
            <use xlink:href="#twitter"></use>
        </svg>
    </span>
    <span class="username">SergioBasurco</span>
</a>

          </li>
                  
        </ul>
      </div>
      <div class="footer-col footer-col-3">
        <p>Sergio Basurco's personal portfolio. I'm a game developer based in Barcelona. Have fun browsing my little projects.
</p>
      </div>
    </div>
  </div>
</footer>


  </body>

  <script src="https://chuckleplant.github.io/js/vendor/jquery-1.9.1.min.js"></script>
  <script src="https://chuckleplant.github.io/js/plugins/jquery.justifiedGallery.min.js"></script>
</html>
